<!DOCTYPE html>

<html>
<head>
  <title>wrapped-context.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="_.footer.html">
                _.footer.js
              </a>
            
              
              <a class="source" href="_.header.html">
                _.header.js
              </a>
            
              
              <a class="source" href="clear-context.html">
                clear-context.js
              </a>
            
              
              <a class="source" href="display-view-mixin.html">
                display-view-mixin.js
              </a>
            
              
              <a class="source" href="json-socket-connection.html">
                json-socket-connection.js
              </a>
            
              
              <a class="source" href="polyfill-request-animation-frame.html">
                polyfill-request-animation-frame.js
              </a>
            
              
              <a class="source" href="touch-event-view-mixin.html">
                touch-event-view-mixin.js
              </a>
            
              
              <a class="source" href="viewport-size.html">
                viewport-size.js
              </a>
            
              
              <a class="source" href="wrapped-context.html">
                wrapped-context.js
              </a>
            
              
              <a class="source" href="z-Index-stack.html">
                z-Index-stack.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>wrapped-context.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> privateNamespace = {};
(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span>{</span>
    <span class="hljs-comment">/*
     * Modified from 
     * Canvas Context2D Wrapper &lt;http://github.com/millermedeiros/CanvasContext2DWrapper&gt;
     * Released under WTFPL &lt;http://sam.zoy.org/wtfpl/&gt;.
     * @author Miller Medeiros &lt;http://millermedeiros.com&gt;
     * @version 1.0 (2010/08/08)
     */</span>
    <span class="hljs-keyword">var</span> _context2DMethods = <span class="hljs-string">'arc arcTo beginPath bezierCurveTo clearRect clip closePath createImageData createLinearGradient createRadialGradient createPattern drawFocusRing drawImage fill fillRect fillText getImageData isPointInPath lineTo measureText moveTo putImageData quadraticCurveTo rect restore rotate save scale setTransform stroke strokeRect strokeText transform translate'</span>.split(<span class="hljs-string">' '</span>),
        _context2DProperties = <span class="hljs-string">'canvas fillStyle font globalAlpha globalCompositeOperation lineCap lineJoin lineWidth miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor strokeStyle textAlign textBaseline'</span>.split(<span class="hljs-string">' '</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chainMethod</span><span class="hljs-params">(fn, scope, chainReturn)</span>{</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
            <span class="hljs-keyword">return</span> fn.apply(scope, <span class="hljs-built_in">arguments</span>) || chainReturn;
        };
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chainProperty</span><span class="hljs-params">(propName, scope, chainReturn)</span>{</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span>{</span>
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'undefined'</span>){
                <span class="hljs-keyword">return</span> scope[propName];
            }<span class="hljs-keyword">else</span>{
                scope[propName] = value;
                <span class="hljs-keyword">return</span> chainReturn;
            }
        };
    }
    namespace.Context2DWrapper = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(target)</span>{</span>
        <span class="hljs-keyword">var</span> n = _context2DMethods.length, curProp;
        <span class="hljs-keyword">this</span>.context = target;
        <span class="hljs-keyword">while</span>(n--){
            curProp = _context2DMethods[n];
            <span class="hljs-keyword">this</span>[curProp] = chainMethod(target[curProp], target, <span class="hljs-keyword">this</span>);
        }
        n = _context2DProperties.length;
        <span class="hljs-keyword">while</span>(n--){
            curProp = _context2DProperties[n];
            <span class="hljs-keyword">this</span>[curProp] = chainProperty(curProp, target, <span class="hljs-keyword">this</span>);
        }
    };
}(privateNamespace));

<span class="hljs-keyword">var</span> wrappedContext = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(context)</span> {</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> privateNamespace.Context2DWrapper(context);
};</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
